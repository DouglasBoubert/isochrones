<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API &mdash; isochrones 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/scrolls.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="isochrones 1.0 documentation" href="index.html" />
    <link rel="prev" title="isochrones" href="index.html" /> 
  </head>
  <body>
    <div id="content">
      <div class="header">
        <h1 class="heading"><a href="index.html"
          title="back to the documentation overview"><span>API</span></a></h1>
      </div>
      <div class="relnav">
        <a href="index.html">&laquo; isochrones</a> |
        <a href="#">API</a>
      </div>
      <div id="contentwrapper">
        <div id="toc">
          <h3>Table Of Contents</h3>
          <ul>
<li><a class="reference internal" href="#">API</a><ul>
<li><a class="reference internal" href="#isochrone">Isochrone</a></li>
<li><a class="reference internal" href="#dartmouth">Dartmouth</a></li>
<li><a class="reference internal" href="#starmodel">StarModel</a></li>
</ul>
</li>
</ul>

        </div>
        
  <div class="section" id="api">
<span id="id1"></span><h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-isochrones"></span><p>This page details the methods and classes provided by the
<tt class="docutils literal"><span class="pre">isochrones</span></tt> module.  The main workhorse for the stellar grid
interpolation is the <a class="reference internal" href="#isochrones.Isochrone" title="isochrones.Isochrone"><tt class="xref py py-class docutils literal"><span class="pre">Isochrone</span></tt></a> object, and the
<a class="reference internal" href="#isochrones.StarModel" title="isochrones.StarModel"><tt class="xref py py-class docutils literal"><span class="pre">StarModel</span></tt></a> object is used to fit the stellar models to
observational data.</p>
<div class="section" id="isochrone">
<h2>Isochrone<a class="headerlink" href="#isochrone" title="Permalink to this headline">¶</a></h2>
<p>Any usage of <tt class="docutils literal"><span class="pre">isochrones</span></tt> involves instantiating an
<a class="reference internal" href="#isochrones.Isochrone" title="isochrones.Isochrone"><tt class="xref py py-class docutils literal"><span class="pre">Isochrone</span></tt></a>, though usually through a specific subclass such as
<a class="reference internal" href="#isochrones.dartmouth.Dartmouth_Isochrone" title="isochrones.dartmouth.Dartmouth_Isochrone"><tt class="xref py py-class docutils literal"><span class="pre">dartmouth.Dartmouth_Isochrone</span></tt></a>.</p>
<dl class="class">
<dt id="isochrones.Isochrone">
<em class="property">class </em><tt class="descclassname">isochrones.</tt><tt class="descname">Isochrone</tt><big>(</big><em>m_ini</em>, <em>age</em>, <em>feh</em>, <em>m_act</em>, <em>logL</em>, <em>Teff</em>, <em>logg</em>, <em>mags</em>, <em>tri=None</em><big>)</big><a class="headerlink" href="#isochrones.Isochrone" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic isochrone class. Everything is a function of mass, log(age), Fe/H.</p>
<p>Can be instantiated directly, but will typically be used with a pre-defined
subclass, such as <a class="reference internal" href="#isochrones.dartmouth.Dartmouth_Isochrone" title="isochrones.dartmouth.Dartmouth_Isochrone"><tt class="xref py py-class docutils literal"><span class="pre">dartmouth.Dartmouth_Isochrone</span></tt></a>.  All parameters
must be array-like objects of the same length, with the exception of <tt class="docutils literal"><span class="pre">mags</span></tt>,
which is a dictionary of such array-like objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>m_ini</strong> &#8211; Array of initial mass values [msun].</li>
<li><strong>age</strong> &#8211; log10(age) [yr]</li>
<li><strong>feh</strong> &#8211; Metallicity [dex]</li>
<li><strong>m_act</strong> &#8211; Actual mass; same as m_ini if mass loss not implemented [msun]</li>
<li><strong>logL</strong> &#8211; log10(luminosity) [solar units]</li>
<li><strong>Teff</strong> &#8211; Effective temperature [K]</li>
<li><strong>logg</strong> &#8211; log10(surface gravity) [cgs]</li>
<li><strong>mags</strong> &#8211; Dictionary of absolute magnitudes in different bands</li>
<li><strong>tri</strong> &#8211; (optional)
<tt class="xref py py-class docutils literal"><span class="pre">scipy.spatial.qhull.Delaunay</span></tt> object, used
to initialize the interpolation functions.
If pre-computed triangulation not provided, then the constructor
will calculate one.  This might take several minutes, so be patient.
Much better to use pre-computed ones, as provided in, e.g.,
<a class="reference internal" href="#isochrones.dartmouth.Dartmouth_Isochrone" title="isochrones.dartmouth.Dartmouth_Isochrone"><tt class="xref py py-class docutils literal"><span class="pre">dartmouth.Dartmouth_Isochrone</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="isochrones.Isochrone.agerange">
<tt class="descname">agerange</tt><big>(</big><em>m</em>, <em>feh=0.0</em><big>)</big><a class="headerlink" href="#isochrones.Isochrone.agerange" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given mass and feh, returns the min and max allowed ages.</p>
</dd></dl>

<dl class="method">
<dt id="isochrones.Isochrone.evtrack">
<tt class="descname">evtrack</tt><big>(</big><em>m</em>, <em>feh=0.0</em>, <em>minage=None</em>, <em>maxage=None</em>, <em>dage=0.02</em>, <em>return_df=True</em><big>)</big><a class="headerlink" href="#isochrones.Isochrone.evtrack" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns evolution track for a single initial mass and feh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>m</strong> &#8211; Initial mass of desired evolution track.</li>
<li><strong>feh</strong> &#8211; (optional) 
Metallicity of desired track.  Default = 0.0 (solar)</li>
<li><strong>maxage</strong> (<em>minage,</em>) &#8211; (optional)
Minimum and maximum log(age) of desired track. Will default
to min and max age of model isochrones.</li>
<li><strong>dage</strong> &#8211; (optional)
Spacing in log(age) at which to evaluate models.  Default = 0.02</li>
<li><strong>return_df</strong> &#8211; (optional)
Whether to return a <tt class="docutils literal"><span class="pre">DataFrame</span></tt> or dicionary.  Default is <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Either a <tt class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></tt> or dictionary
representing the evolution
track&#8212;fixed mass, sampled at chosen range of ages.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.Isochrone.isochrone">
<tt class="descname">isochrone</tt><big>(</big><em>age</em>, <em>feh=0.0</em>, <em>minm=None</em>, <em>maxm=None</em>, <em>dm=0.02</em>, <em>return_df=True</em><big>)</big><a class="headerlink" href="#isochrones.Isochrone.isochrone" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns stellar models at constant age and feh, for a range of masses</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>age</strong> &#8211; log10(age) of desired isochrone.</li>
<li><strong>feh</strong> &#8211; (optional)
Metallicity of desired isochrone (default = 0.0)</li>
<li><strong>maxm</strong> (<em>minm,</em>) &#8211; (optional)
Mass range of desired isochrone (will default to max and min available)</li>
<li><strong>dm</strong> &#8211; (optional)
Spacing in mass of desired isochrone.  Default = 0.02 Msun.</li>
<li><strong>return_df</strong> &#8211; (optional)
Whether to return a :class:<tt class="docutils literal"><span class="pre">pandas.DataFrame</span></tt> or dictionary.  Default is <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></tt> or dictionary containing results.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.Isochrone.random_points">
<tt class="descname">random_points</tt><big>(</big><em>n</em>, <em>minmass=None</em>, <em>maxmass=None</em>, <em>minage=None</em>, <em>maxage=None</em>, <em>minfeh=None</em>, <em>maxfeh=None</em><big>)</big><a class="headerlink" href="#isochrones.Isochrone.random_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n random mass, age, feh points, none of which are out of range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n</strong> &#8211; Number of desired points.</li>
<li><strong>maxmass</strong> (<em>minmass,</em>) &#8211; (optional)
Desired allowed range.  Default is mass range of <tt class="docutils literal"><span class="pre">self</span></tt>.</li>
<li><strong>maxage</strong> (<em>minage,</em>) &#8211; (optional)
Desired allowed range.  Default is log10(age) range of
<tt class="docutils literal"><span class="pre">self</span></tt>.</li>
<li><strong>maxfeh</strong> (<em>minfehs,</em>) &#8211; (optional)
Desired allowed range.  Default is feh range of <tt class="docutils literal"><span class="pre">self</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt> arrays of randomly selected mass, log10(age),
and feh values
within allowed ranges.  Used, e.g., to initialize random walkers for
<a class="reference internal" href="#isochrones.StarModel" title="isochrones.StarModel"><tt class="xref py py-class docutils literal"><span class="pre">StarModel</span></tt></a> fits.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dartmouth">
<h2>Dartmouth<a class="headerlink" href="#dartmouth" title="Permalink to this headline">¶</a></h2>
<p>Stellar model grids from the <a class="reference external" href="http://stellar.dartmouth.edu/models/">Dartmouth Stellar Evolution Database</a>.  Most tested of the three
available grids, and therefore recommended.</p>
<dl class="class">
<dt id="isochrones.dartmouth.Dartmouth_Isochrone">
<em class="property">class </em><tt class="descclassname">isochrones.dartmouth.</tt><tt class="descname">Dartmouth_Isochrone</tt><big>(</big><em>bands=['U', 'B', 'V', 'R', 'I', 'J', 'H', 'K', 'g', 'r', 'i', 'z', 'Kepler', 'D51', 'W1', 'W2', 'W3', 'W4']</em><big>)</big><a class="headerlink" href="#isochrones.dartmouth.Dartmouth_Isochrone" title="Permalink to this definition">¶</a></dt>
<dd><p>Dotter (2008) Stellar Models, at solar a/Fe and He abundances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bands</strong> &#8211; (optional)
List of desired photometric bands.  Must be a subset of
<tt class="docutils literal"><span class="pre">['U','B','V','R','I','J','H','K','g','r','i','z','Kepler','D51',</span>
<span class="pre">'W1','W2','W3','W4']</span></tt>, which is the default (all available).</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="starmodel">
<h2>StarModel<a class="headerlink" href="#starmodel" title="Permalink to this headline">¶</a></h2>
<p>Estimating a star&#8217;s physical properties based on a set of observed
properties involves instantiating a <a class="reference internal" href="#isochrones.StarModel" title="isochrones.StarModel"><tt class="xref py py-class docutils literal"><span class="pre">StarModel</span></tt></a>.</p>
<dl class="class">
<dt id="isochrones.StarModel">
<em class="property">class </em><tt class="descclassname">isochrones.</tt><tt class="descname">StarModel</tt><big>(</big><em>ic</em>, <em>maxAV=1</em>, <em>max_distance=1000</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#isochrones.StarModel" title="Permalink to this definition">¶</a></dt>
<dd><p>An object to represent a star, with observed properties, modeled by an Isochrone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ic</strong> &#8211; <a class="reference internal" href="#isochrones.Isochrone" title="isochrones.Isochrone"><tt class="xref py py-class docutils literal"><span class="pre">Isochrone</span></tt></a> object used to model star.</li>
<li><strong>maxAV</strong> &#8211; (optional)
Maximum allowed extinction (i.e. the extinction &#64; infinity in direction of star).  Default is 1.</li>
<li><strong>max_distance</strong> &#8211; (optional)
Maximum allowed distance (pc).  Default is 1000.</li>
<li><strong>**kwargs</strong> &#8211; <p>Keyword arguments must be properties of given isochrone, e.g., logg,
feh, Teff, and/or magnitudes.  The values represent measurements of
the star, and must be in (value,error) format. All such keyword
arguments will be held in <tt class="docutils literal"><span class="pre">self.properties</span></tt>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="isochrones.StarModel.add_props">
<tt class="descname">add_props</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.add_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds observable properties to <tt class="docutils literal"><span class="pre">self.properties</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="isochrones.StarModel.fit_for_distance">
<tt class="descname">fit_for_distance</tt><a class="headerlink" href="#isochrones.StarModel.fit_for_distance" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">True</span></tt> if any of the properties are apparent magnitudes.</p>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.fit_mcmc">
<tt class="descname">fit_mcmc</tt><big>(</big><em>nwalkers=200</em>, <em>nburn=100</em>, <em>niter=200</em>, <em>p0=None</em>, <em>initial_burn=None</em>, <em>ninitial=100</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.fit_mcmc" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits stellar model using MCMC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>nwalkers</strong> &#8211; (optional)
Number of walkers to pass to <tt class="xref py py-class docutils literal"><span class="pre">emcee.EnsembleSampler</span></tt>.
Default is 200.</li>
<li><strong>nburn</strong> &#8211; (optional)
Number of iterations for &#8220;burn-in.&#8221;  Default is 100.</li>
<li><strong>niter</strong> &#8211; (optional)
Number of for-keeps iterations for MCMC chain.
Default is 200.</li>
<li><strong>p0</strong> &#8211; (optional)
Initial parameters for emcee.  If not provided, then chains
will behave according to whether inital_burn is set.</li>
<li><strong>initial_burn</strong> &#8211; (optional)
If <cite>True</cite>, then initialize walkers first with a random initialization,
then cull the walkers, keeping only those with &gt; 15% acceptance
rate, then reinitialize sampling.  If <cite>False</cite>, then just do
normal burn-in.  Default is <cite>None</cite>, which will be set to <cite>True</cite> if
fitting for distance (i.e., if there are apparent magnitudes as
properties of the model), and <cite>False</cite> if not.</li>
<li><strong>ninitial</strong> &#8211; (optional)
Number of iterations to test walkers for acceptance rate before
re-initializing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">emcee.EnsembleSampler</span></tt> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="isochrones.StarModel.load_hdf">
<em class="property">classmethod </em><tt class="descname">load_hdf</tt><big>(</big><em>filename</em>, <em>path=''</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.load_hdf" title="Permalink to this definition">¶</a></dt>
<dd><p>A class method to load a saved StarModel from an HDF5 file.</p>
<p>File must have been created by a call to <a class="reference internal" href="#isochrones.StarModel.save_hdf" title="isochrones.StarModel.save_hdf"><tt class="xref py py-func docutils literal"><span class="pre">StarModel.save_hdf()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; H5 file to load.</li>
<li><strong>path</strong> &#8211; (optional)
Path within HDF file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#isochrones.StarModel" title="isochrones.StarModel"><tt class="xref py py-class docutils literal"><span class="pre">StarModel</span></tt></a> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.loglike">
<tt class="descname">loglike</tt><big>(</big><em>p</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.loglike" title="Permalink to this definition">¶</a></dt>
<dd><p>Log-likelihood of model at given parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> &#8211; mass, log10(age), feh, [distance, A_V (extinction)].
Final two should only be provided if <tt class="docutils literal"><span class="pre">self.fit_for_distance</span></tt>
is <tt class="docutils literal"><span class="pre">True</span></tt>; that is, apparent magnitudes are provided.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">log-likelihood.  Will be -np.inf if values out of range.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.maxlike">
<tt class="descname">maxlike</tt><big>(</big><em>nseeds=50</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.maxlike" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the best-fit parameters, choosing the best of multiple starting guesses</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nseeds</strong> &#8211; (optional)
Number of starting guesses, uniformly distributed throughout
allowed ranges.  Default=50.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of best-fit parameters: <tt class="docutils literal"><span class="pre">[m,age,feh,[distance,A_V]]</span></tt>.
Note that distance and A_V values will be meaningless unless
magnitudes are present in <tt class="docutils literal"><span class="pre">self.properties</span></tt>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.plot_samples">
<tt class="descname">plot_samples</tt><big>(</big><em>prop</em>, <em>fig=None</em>, <em>label=True</em>, <em>histtype='step'</em>, <em>bins=50</em>, <em>lw=3</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.plot_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots histogram of samples of desired property.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prop</strong> &#8211; Desired property (must be legit column of samples)</li>
<li><strong>fig</strong> &#8211; Argument for <tt class="xref py py-func docutils literal"><span class="pre">plotutils.setfig()</span></tt> (<tt class="docutils literal"><span class="pre">None</span></tt> or int).</li>
<li><strong>bins, lw</strong> (<em>histtype,</em>) &#8211; Passed to <tt class="xref py py-func docutils literal"><span class="pre">plt.hist()</span></tt>.</li>
<li><strong>**kwargs</strong> &#8211; <p>Additional keyword arguments passed to <cite>plt.hist</cite></p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Figure object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.prop_samples">
<tt class="descname">prop_samples</tt><big>(</big><em>prop</em>, <em>return_values=True</em>, <em>conf=0.683</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.prop_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns samples of given property, based on MCMC sampling</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prop</strong> &#8211; Name of desired property.  Must be column of <tt class="docutils literal"><span class="pre">self.samples</span></tt>.</li>
<li><strong>return_values</strong> &#8211; (optional)
If <tt class="docutils literal"><span class="pre">True</span></tt> (default), then also return (median, lo_err, hi_err)
corresponding to desired credible interval.</li>
<li><strong>conf</strong> &#8211; (optional)
Desired quantile for credible interval.  Default = 0.683.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><tt class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></tt> of desired samples</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Optionally also return summary statistics (median, lo_err, hi_err),
if <tt class="docutils literal"><span class="pre">returns_values</span> <span class="pre">==</span> <span class="pre">True</span></tt> (this is default behavior)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.prop_triangle">
<tt class="descname">prop_triangle</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.prop_triangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes corner plot of only observable properties.</p>
<p>The idea here is to compare the predictions of the samples
with the actual observed data&#8212;this can be a quick way to check
if there are outlier properties that aren&#8217;t predicted well
by the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kwargs</strong> &#8211; <p>Keyword arguments passed to <a class="reference internal" href="#isochrones.StarModel.triangle" title="isochrones.StarModel.triangle"><tt class="xref py py-func docutils literal"><span class="pre">StarModel.triangle()</span></tt></a>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Figure object containing corner plot.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.random_samples">
<tt class="descname">random_samples</tt><big>(</big><em>n</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.random_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random sampling of given size from the existing samples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> &#8211; Number of samples</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></tt> of length <tt class="docutils literal"><span class="pre">n</span></tt> with random samples.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.remove_props">
<tt class="descname">remove_props</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.remove_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes desired properties from <tt class="docutils literal"><span class="pre">self.properties</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="isochrones.StarModel.sampler">
<tt class="descname">sampler</tt><a class="headerlink" href="#isochrones.StarModel.sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Sampler object from MCMC run.</p>
</dd></dl>

<dl class="attribute">
<dt id="isochrones.StarModel.samples">
<tt class="descname">samples</tt><a class="headerlink" href="#isochrones.StarModel.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataframe with samples drawn from isochrone according to posterior</p>
<p>Culls samples to have lnlike within 20 of max lnlike (hard-coded).</p>
<p>Columns include both the sampling parameters from the MCMC
fit (mass, age, Fe/H, [distance, A_V]), and also evaluation
of the <a class="reference internal" href="#isochrones.Isochrone" title="isochrones.Isochrone"><tt class="xref py py-class docutils literal"><span class="pre">Isochrone</span></tt></a> at each of these sample points&#8212;this
is how chains of physical/observable parameters get produced.</p>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.save_hdf">
<tt class="descname">save_hdf</tt><big>(</big><em>filename</em>, <em>path=''</em>, <em>overwrite=False</em>, <em>append=False</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.save_hdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves object data to HDF file (only works if MCMC is run)</p>
<p>Samples are saved to /samples location under given path,
and object properties are also attached, so suitable for
re-loading via <a class="reference internal" href="#isochrones.StarModel.load_hdf" title="isochrones.StarModel.load_hdf"><tt class="xref py py-func docutils literal"><span class="pre">StarModel.load_hdf()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; Name of file to save to.  Should be .h5 file.</li>
<li><strong>path</strong> &#8211; (optional)
Path within HDF file structure to save to.</li>
<li><strong>overwrite</strong> &#8211; (optional)
If <tt class="docutils literal"><span class="pre">True</span></tt>, delete any existing file by the same name
before writing.</li>
<li><strong>append</strong> &#8211; (optional)
If <tt class="docutils literal"><span class="pre">True</span></tt>, then if a file exists, then just the path
within the file will be updated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.triangle">
<tt class="descname">triangle</tt><big>(</big><em>params=None</em>, <em>query=None</em>, <em>extent=0.999</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.triangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a nifty corner plot.</p>
<p>Uses <tt class="xref py py-func docutils literal"><span class="pre">triangle.corner()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>params</strong> &#8211; (optional)
Names of columns (from <a class="reference internal" href="#isochrones.StarModel.samples" title="isochrones.StarModel.samples"><tt class="xref py py-attr docutils literal"><span class="pre">StarModel.samples</span></tt></a>)
to plot.  If <tt class="docutils literal"><span class="pre">None</span></tt>, then it will plot samples
of the parameters used in the MCMC fit&#8211; that is,
mass, age, [Fe/H], and optionally distance and A_V.</li>
<li><strong>query</strong> &#8211; (optional)
Optional query on samples.</li>
<li><strong>extent</strong> &#8211; (optional)
Will be appropriately passed to <tt class="xref py py-func docutils literal"><span class="pre">triangle.corner()</span></tt>.</li>
<li><strong>**kwargs</strong> &#8211; <p>Additional keyword arguments passed to <tt class="xref py py-func docutils literal"><span class="pre">triangle.corner()</span></tt>.</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Figure oject containing corner plot.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="isochrones.StarModel.triangle_plots">
<tt class="descname">triangle_plots</tt><big>(</big><em>basename=None</em>, <em>format='png'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#isochrones.StarModel.triangle_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns two triangle plots, one with physical params, one observational</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>basename</strong> &#8211; If basename is provided, then plots will be saved as
&#8220;[basename]_physical.[format]&#8221; and &#8220;[basename]_observed.[format]&#8221;</li>
<li><strong>format</strong> &#8211; Format in which to save figures (e.g., &#8216;png&#8217; or &#8216;pdf&#8217;)</li>
<li><strong>**kwargs</strong> &#8211; <p>Additional keyword arguments passed to <a class="reference internal" href="#isochrones.StarModel.triangle" title="isochrones.StarModel.triangle"><tt class="xref py py-func docutils literal"><span class="pre">StarModel.triangle()</span></tt></a>
and <a class="reference internal" href="#isochrones.StarModel.prop_triangle" title="isochrones.StarModel.prop_triangle"><tt class="xref py py-func docutils literal"><span class="pre">StarModel.prop_triangle()</span></tt></a></p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li>Physical parameters triangle plot (mass, radius, Teff, feh, age)</li>
<li>Observed properties triangle plot.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


      </div>
    </div>

    <div class="footer">
        &copy; Copyright 2015, Timothy Morton.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>